<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bespoke Images of 'OpenStreetMap' Data • osmplotr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Bespoke Images of 'OpenStreetMap' Data">
<meta property="og:description" content="Bespoke images of 'OpenStreetMap' ('OSM') data and data
    visualisation using 'OSM' objects.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">osmplotr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="articles/index.html">Vignettes</a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/osmplotr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->

<p><img src="../figure/map1.png"></p>
<p>R package to produce visually impressive customisable images of OpenStreetMap (OSM) data downloaded internally from the <a href="http://overpass-api.de/">overpass api</a>. The above map was produced directly from <code>osmplotr</code> with no further modification. This <code>README</code> briefly demonstrates the following functionality:</p>
<p><a href="#1%20intro">1. Quick Introduction</a></p>
<p><a href="#2%20installation">2. Installation</a></p>
<p><a href="#3%20simple%20map">3. A Simple Map</a></p>
<p><a href="#4%20highlighting%20areas">4. Highlighting Selected Areas</a></p>
<p><a href="#5%20highlighting%20clusters">5. Highlighting Clusters</a></p>
<p><a href="#6%20highlighting%20with%20highways">6. Highlighting Areas Bounded by Named Highways</a></p>
<p><a href="#7%20data%20surfaces">7. Data Surfaces</a></p>
<p><a href="#8%20gallery">8. Gallery</a></p>
<hr>
<div id="quick-introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-introduction" class="anchor"></a><a name="1%20intro"></a>1. Quick Introduction</h2>
<p>But first the easy steps to map making:</p>
<ol style="list-style-type: decimal">
<li>
<p>Specify the bounding box for the desired region</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">bbox &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_bbox.html">get_bbox</a></span> (<span class="kw">c</span>(<span class="op">-</span><span class="fl">0.15</span>, <span class="fl">51.5</span>, <span class="fl">-0.10</span>, <span class="fl">51.52</span>))</a></code></pre></div>
</li>
<li>
<p>Download the desired data—in this case, all building perimeters.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">dat_B &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_osm_objects.html">extract_osm_objects</a></span> (<span class="dt">key =</span> <span class="st">'building'</span>, <span class="dt">bbox =</span> bbox)</a></code></pre></div>
</li>
<li>
<p>Initiate an <code>osm_basemap</code> with desired background (<code>bg</code>) colour</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/osm_basemap.html">osm_basemap</a></span> (<span class="dt">bbox =</span> bbox, <span class="dt">bg =</span> <span class="st">'gray20'</span>)</a></code></pre></div>
</li>
<li>
<p>Overlay objects on plot in the desired colour.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_objects.html">add_osm_objects</a></span> (map, dat_B, <span class="dt">col =</span> <span class="st">'gray40'</span>)</a></code></pre></div>
</li>
<li>
<p>Print the map to graphics device of choice</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="reference/print_osm_map.html">print_osm_map</a></span> (map)</a></code></pre></div>
</li>
</ol>
<hr>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a><a name="2%20installation"></a>2. Installation</h2>
<p>First install the package</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">install.packages</span> (<span class="st">'osmplotr'</span>)</a></code></pre></div>
<p>or the development version</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span> (<span class="st">'ropensci/osmplotr'</span>)</a></code></pre></div>
<p>And then load it in the usual way</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span> (osmplotr)</a></code></pre></div>
<hr>
</div>
<div id="a-simple-map" class="section level2">
<h2 class="hasAnchor">
<a href="#a-simple-map" class="anchor"></a><a name="3%20simple%20map"></a>3. A Simple Map</h2>
<p>Simple maps can be made by overlaying different kinds of OSM data in different colours:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">dat_H &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_osm_objects.html">extract_osm_objects</a></span> (<span class="dt">key =</span> <span class="st">'highway'</span>, <span class="dt">bbox =</span> bbox)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">dat_P &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_osm_objects.html">extract_osm_objects</a></span> (<span class="dt">key =</span> <span class="st">'park'</span>, <span class="dt">bbox =</span> bbox)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">dat_G &lt;-<span class="st"> </span><span class="kw"><a href="reference/extract_osm_objects.html">extract_osm_objects</a></span> (<span class="dt">key =</span> <span class="st">'landuse'</span>, <span class="dt">value =</span> <span class="st">'grass'</span>, <span class="dt">bbox =</span> bbox)</a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/osm_basemap.html">osm_basemap</a></span> (<span class="dt">bbox =</span> bbox, <span class="dt">bg =</span> <span class="st">'gray20'</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_objects.html">add_osm_objects</a></span> (map, dat_B, <span class="dt">col =</span> <span class="st">'gray40'</span>)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_objects.html">add_osm_objects</a></span> (map, dat_H, <span class="dt">col =</span> <span class="st">'gray80'</span>)</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_objects.html">add_osm_objects</a></span> (map, dat_P, <span class="dt">col =</span> <span class="st">'darkseagreen'</span>)</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_objects.html">add_osm_objects</a></span> (map, dat_G, <span class="dt">col =</span> <span class="st">'darkseagreen1'</span>)</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="kw"><a href="reference/print_osm_map.html">print_osm_map</a></span> (map)</a></code></pre></div>
<p><img src="../figure/map2.png"></p>
<hr>
</div>
<div id="highlighting-selected-areas" class="section level2">
<h2 class="hasAnchor">
<a href="#highlighting-selected-areas" class="anchor"></a><a name="4%20highlighting%20areas"></a>4. Highlighting Selected Areas</h2>
<p><code>osmplotr</code> is primarily intended as a data visualisation tool, particularly through enabling selected regions to be highlighted. Regions can be defined according to simple point boundaries:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">pts &lt;-<span class="st"> </span>sp<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/sp/topics/SpatialPoints">SpatialPoints</a></span> (<span class="kw">cbind</span> (<span class="kw">c</span> (<span class="op">-</span><span class="fl">0.115</span>, <span class="fl">-0.13</span>, <span class="fl">-0.13</span>, <span class="fl">-0.115</span>),</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">                             <span class="kw">c</span> (<span class="fl">51.505</span>, <span class="fl">51.505</span>, <span class="fl">51.515</span>, <span class="fl">51.515</span>)))</a></code></pre></div>
<p>OSM objects within the defined regions can then be highlighted with different colour schemes. <code>cols</code> defines colours for each group (with only one here), while <code>bg</code> defines the colour of the remaining, background area.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/osm_basemap.html">osm_basemap</a></span> (<span class="dt">bbox =</span> bbox, <span class="dt">bg =</span> <span class="st">'gray20'</span>)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_groups.html">add_osm_groups</a></span> (map, dat_B, <span class="dt">groups =</span> pts, <span class="dt">cols =</span> <span class="st">'orange'</span>, <span class="dt">bg =</span> <span class="st">'gray40'</span>)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_objects.html">add_osm_objects</a></span> (map, london<span class="op">$</span>dat_P, <span class="dt">col =</span> <span class="st">'darkseagreen1'</span>)</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_groups.html">add_osm_groups</a></span> (map, london<span class="op">$</span>dat_P, <span class="dt">groups =</span> pts, <span class="dt">cols =</span> <span class="st">'darkseagreen1'</span>,</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">                   <span class="dt">bg =</span> <span class="st">'darkseagreen'</span>, <span class="dt">boundary =</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="kw"><a href="reference/print_osm_map.html">print_osm_map</a></span> (map)</a></code></pre></div>
<p><img src="../figure/map3.png"></p>
<p>Note the <code>border = 0</code> argument on the last call divides the park polygons precisely along the border. The same map highlighted in dark-on-light:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/osm_basemap.html">osm_basemap</a></span> (<span class="dt">bbox =</span> bbox, <span class="dt">bg =</span> <span class="st">'gray95'</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_groups.html">add_osm_groups</a></span> (map, dat_B, <span class="dt">groups =</span> pts, <span class="dt">cols =</span> <span class="st">'gray40'</span>, <span class="dt">bg =</span> <span class="st">'gray85'</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_groups.html">add_osm_groups</a></span> (map, dat_H, <span class="dt">groups =</span> pts, <span class="dt">cols =</span> <span class="st">'gray20'</span>, <span class="dt">bg =</span> <span class="st">'gray70'</span>)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="kw"><a href="reference/print_osm_map.html">print_osm_map</a></span> (map)</a></code></pre></div>
<p><img src="../figure/map4.png"></p>
<hr>
</div>
<div id="highlighting-clusters" class="section level2">
<h2 class="hasAnchor">
<a href="#highlighting-clusters" class="anchor"></a><a name="5%20highlighting%20clusters"></a>5. Highlighting Clusters</h2>
<p><code>add_osm_groups</code> also enables plotting an entire region as a group of spatially distinct clusters of defined colours. Groups can be defined by simple spatial points denoting their centres:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">set.seed</span> (<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">ngroups &lt;-<span class="st"> </span><span class="dv">12</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3">x &lt;-<span class="st"> </span>bbox [<span class="dv">1</span>, <span class="dv">1</span>] <span class="op">+</span><span class="st"> </span><span class="kw">runif</span> (ngroups) <span class="op">*</span><span class="st"> </span><span class="kw">diff</span> (bbox [<span class="dv">1</span>, ])</a>
<a class="sourceLine" id="cb14-4" data-line-number="4">y &lt;-<span class="st"> </span>bbox [<span class="dv">2</span>, <span class="dv">1</span>] <span class="op">+</span><span class="st"> </span><span class="kw">runif</span> (ngroups) <span class="op">*</span><span class="st"> </span><span class="kw">diff</span> (bbox [<span class="dv">2</span>, ])</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">groups &lt;-<span class="st"> </span><span class="kw">cbind</span> (x, y)</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">groups &lt;-<span class="st"> </span><span class="kw">apply</span> (groups, <span class="dv">1</span>, <span class="cf">function</span> (i)</a>
<a class="sourceLine" id="cb14-7" data-line-number="7">              sp<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/sp/topics/SpatialPoints">SpatialPoints</a></span> (<span class="kw">matrix</span> (i, <span class="dt">nrow =</span> <span class="dv">1</span>, <span class="dt">ncol =</span> <span class="dv">2</span>)))</a></code></pre></div>
<p>Calling <code>add_osm_groups</code> with no <code>bg</code> argument forces all points lying outside those defined groups to be allocated to the nearest groups, and thus produces an inclusive grouping extending across an entire region.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/osm_basemap.html">osm_basemap</a></span> (<span class="dt">bbox =</span> bbox, <span class="dt">bg =</span> <span class="st">'gray20'</span>)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_groups.html">add_osm_groups</a></span> (map, dat_B, <span class="dt">groups =</span> groups,</a>
<a class="sourceLine" id="cb15-3" data-line-number="3">                       <span class="dt">cols =</span> <span class="kw">rainbow</span> (<span class="kw">length</span> (groups)), <span class="dt">border_width =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="kw"><a href="reference/print_osm_map.html">print_osm_map</a></span> (map)</a></code></pre></div>
<p><img src="../figure/map5.png"></p>
<hr>
</div>
<div id="highlighting-areas-bounded-by-named-highways" class="section level2">
<h2 class="hasAnchor">
<a href="#highlighting-areas-bounded-by-named-highways" class="anchor"></a><a name="6%20highlighting%20with%20highways"></a>6. Highlighting Areas Bounded by Named Highways</h2>
<p>An alternative way of defining highlighted groups is by naming the highways encircling desired regions.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co"># These highways extend beyond the previous, smaller bbox</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">bbox_big &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_bbox.html">get_bbox</a></span> (<span class="kw">c</span>(<span class="op">-</span><span class="fl">0.15</span>, <span class="fl">51.5</span>, <span class="fl">-0.10</span>, <span class="fl">51.52</span>))</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">highways &lt;-<span class="st"> </span><span class="kw">c</span> (<span class="st">'Davies.St'</span>, <span class="st">'Berkeley.Sq'</span>, <span class="st">'Berkeley.St'</span>, <span class="st">'Piccadilly'</span>,</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">               <span class="st">'Regent.St'</span>, <span class="st">'Oxford.St'</span>)</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">highways1 &lt;-<span class="st"> </span><span class="kw"><a href="reference/connect_highways.html">connect_highways</a></span> (<span class="dt">highways =</span> highways, <span class="dt">bbox =</span> bbox_big)</a>
<a class="sourceLine" id="cb16-6" data-line-number="6">highways &lt;-<span class="st"> </span><span class="kw">c</span> (<span class="st">'Regent.St'</span>, <span class="st">'Oxford.St'</span>, <span class="st">'Shaftesbury'</span>)</a>
<a class="sourceLine" id="cb16-7" data-line-number="7">highways2 &lt;-<span class="st"> </span><span class="kw"><a href="reference/connect_highways.html">connect_highways</a></span> (<span class="dt">highways =</span> highways, <span class="dt">bbox =</span> bbox_big)</a>
<a class="sourceLine" id="cb16-8" data-line-number="8">highways &lt;-<span class="st"> </span><span class="kw">c</span> (<span class="st">'Piccadilly'</span>, <span class="st">'Shaftesbury.Ave'</span>, <span class="st">'Charing.Cross.R'</span>,</a>
<a class="sourceLine" id="cb16-9" data-line-number="9">               <span class="st">'Saint.Martin'</span>, <span class="st">'Trafalgar.Sq'</span>, <span class="st">'Cockspur.St'</span>,</a>
<a class="sourceLine" id="cb16-10" data-line-number="10">               <span class="st">'Pall.Mall'</span>, <span class="st">'St.James'</span>)</a>
<a class="sourceLine" id="cb16-11" data-line-number="11">highways3 &lt;-<span class="st"> </span><span class="kw"><a href="reference/connect_highways.html">connect_highways</a></span> (<span class="dt">highways =</span> highways, <span class="dt">bbox =</span> bbox_big)</a>
<a class="sourceLine" id="cb16-12" data-line-number="12">highways &lt;-<span class="st"> </span><span class="kw">c</span> (<span class="st">'Charing.Cross'</span>, <span class="st">'Duncannon.St'</span>, <span class="st">'Strand'</span>, <span class="st">'Aldwych'</span>,</a>
<a class="sourceLine" id="cb16-13" data-line-number="13">               <span class="st">'Kingsway'</span>, <span class="st">'High.Holborn'</span>, <span class="st">'Shaftesbury.Ave'</span>)</a>
<a class="sourceLine" id="cb16-14" data-line-number="14">highways4 &lt;-<span class="st"> </span><span class="kw"><a href="reference/connect_highways.html">connect_highways</a></span> (<span class="dt">highways =</span> highways, <span class="dt">bbox =</span> bbox_big)</a>
<a class="sourceLine" id="cb16-15" data-line-number="15">highways &lt;-<span class="st"> </span><span class="kw">c</span> (<span class="st">'Kingsway'</span>, <span class="st">'Holborn'</span>, <span class="st">'Farringdon.St'</span>, <span class="st">'Strand'</span>,</a>
<a class="sourceLine" id="cb16-16" data-line-number="16">               <span class="st">'Fleet.St'</span>, <span class="st">'Aldwych'</span>)</a>
<a class="sourceLine" id="cb16-17" data-line-number="17">highways5 &lt;-<span class="st"> </span><span class="kw"><a href="reference/connect_highways.html">connect_highways</a></span> (<span class="dt">highways =</span> highways, <span class="dt">bbox =</span> bbox_big)</a>
<a class="sourceLine" id="cb16-18" data-line-number="18">groups &lt;-<span class="st"> </span><span class="kw">list</span> (highways1, highways2, highways3, highways4, highways5)</a></code></pre></div>
<p>And then passing these lists of groups returned by <code>connect_highways</code> to <code>add_osm_groups</code>, this time with some Wes Anderson flair.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/osm_basemap.html">osm_basemap</a></span> (<span class="dt">bbox =</span> bbox, <span class="dt">bg =</span> <span class="st">'gray20'</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw">library</span> (wesanderson)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">cols &lt;-<span class="st"> </span><span class="kw">wes_palette</span> (<span class="st">'Darjeeling'</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_groups.html">add_osm_groups</a></span> (map, dat_B, <span class="dt">groups =</span> groups, <span class="dt">boundary =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">                       <span class="dt">cols =</span> cols, <span class="dt">bg =</span> <span class="st">'gray40'</span>, <span class="dt">colmat =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb17-6" data-line-number="6">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_groups.html">add_osm_groups</a></span> (map, dat_H, <span class="dt">groups =</span> groups, <span class="dt">boundary =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb17-7" data-line-number="7">                       <span class="dt">cols =</span> cols, <span class="dt">bg =</span> <span class="st">'gray70'</span>, <span class="dt">colmat =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="kw"><a href="reference/print_osm_map.html">print_osm_map</a></span> (map)</a></code></pre></div>
<p><img src="../figure/map6.png"></p>
<hr>
</div>
<div id="data-surfaces" class="section level2">
<h2 class="hasAnchor">
<a href="#data-surfaces" class="anchor"></a><a name="7%20data%20surfaces"></a>7. Data Surfaces</h2>
<p>Finally, <code>osmplotr</code> contains a function <code>add_osm_surface</code> that spatially interpolates a given set of spatial data points and colours OSM objects according to a specified colour gradient. This is illustrated here with the <code>volcano</code> data projected onto the <code>bbox</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">seq</span> (bbox [<span class="dv">1</span>, <span class="dv">1</span>], bbox [<span class="dv">1</span>, <span class="dv">2</span>], <span class="dt">length.out =</span> <span class="kw">dim</span> (volcano)[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="kw">seq</span> (bbox [<span class="dv">2</span>, <span class="dv">1</span>], bbox [<span class="dv">2</span>, <span class="dv">2</span>], <span class="dt">length.out =</span> <span class="kw">dim</span> (volcano)[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">xy &lt;-<span class="st"> </span><span class="kw">cbind</span> (<span class="kw">rep</span> (x, <span class="kw">dim</span> (volcano) [<span class="dv">2</span>]), <span class="kw">rep</span> (y, <span class="dt">each =</span> <span class="kw">dim</span> (volcano) [<span class="dv">1</span>]))</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">z &lt;-<span class="st"> </span><span class="kw">as.numeric</span> (volcano)</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">dat &lt;-<span class="st"> </span><span class="kw">data.frame</span> (<span class="dt">x =</span> xy [, <span class="dv">1</span>], <span class="dt">y =</span> xy [, <span class="dv">2</span>], <span class="dt">z =</span> z)</a></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/osm_basemap.html">osm_basemap</a></span> (<span class="dt">bbox =</span> bbox, <span class="dt">bg =</span> <span class="st">'gray20'</span>)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">cols &lt;-<span class="st"> </span><span class="kw">gray</span> (<span class="dv">0</span><span class="op">:</span><span class="dv">50</span> <span class="op">/</span><span class="st"> </span><span class="dv">50</span>)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_surface.html">add_osm_surface</a></span> (map, dat_B, <span class="dt">dat =</span> dat, <span class="dt">cols =</span> cols)</a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="co"># Darken cols by ~20%</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_osm_surface.html">add_osm_surface</a></span> (map, dat_H, <span class="dt">dat =</span> dat,</a>
<a class="sourceLine" id="cb19-6" data-line-number="6">                        <span class="dt">cols =</span> <span class="kw"><a href="reference/adjust_colours.html">adjust_colours</a></span> (cols, <span class="fl">-0.2</span>))</a>
<a class="sourceLine" id="cb19-7" data-line-number="7">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_colourbar.html">add_colourbar</a></span> (map, <span class="dt">cols =</span> cols, <span class="dt">zlims =</span> <span class="kw">range</span> (volcano))</a>
<a class="sourceLine" id="cb19-8" data-line-number="8">map &lt;-<span class="st"> </span><span class="kw"><a href="reference/add_axes.html">add_axes</a></span> (map)</a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="kw"><a href="reference/print_osm_map.html">print_osm_map</a></span> (map)</a></code></pre></div>
<p><img src="../figure/map7.png"></p>
<hr>
</div>
<div id="gallery" class="section level2">
<h2 class="hasAnchor">
<a href="#gallery" class="anchor"></a><a name="8%20gallery"></a>8. Gallery</h2>
<p>Got a nice <code>osmplotr</code> map? Please contribute in one of the following ways:</p>
<ol style="list-style-type: decimal">
<li><p>Fork repo, add link to <code>README.md/.Rmd</code>, and send pull request; or</p></li>
<li><p>Open issue with details; or</p></li>
<li><p>Send email to address in <a href="https://github.com/ropensci/osmplotr/blob/master/DESCRIPTION"><code>DESCRIPTION</code></a>.</p></li>
</ol>
<hr>
<p>See package vignettes (<a href="https://ropensci.github.io/osmplotr/articles/basic-maps.html">basic maps</a> and <a href="https://ropensci.github.io/osmplotr/articles/data-maps.html">data maps</a>) for a lot more detail and further capabilities of <code>osmplotr</code>. Please note that this project is released with a <a href="CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
<hr>
<p><a href="http://ropensci.org"><img src="http://ropensci.org/public_images/github_footer.png" alt="ropensci_footer"></a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=osmplotr">https://​cloud.r-project.org/​package=osmplotr</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/osmplotr">https://​github.com/​ropensci/​osmplotr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/osmplotr/issues">https://​github.com/​ropensci/​osmplotr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Mark Padgham <br><small class="roles"> Author, maintainer </small>  </li>
<li>Richard Beare <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/ropensci/osmplotr"><img src="https://travis-ci.org/ropensci/osmplotr.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/ropensci/osmplotr"><img src="https://ci.appveyor.com/api/projects/status/github/ropensci/osmplotr?svg=true" alt="Build status"></a></li>
<li><a href="https://codecov.io/gh/ropensci/osmplotr"><img src="https://codecov.io/gh/ropensci/osmplotr/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="http://cran.r-project.org/package=osmplotr"><img src="http://cranlogs.r-pkg.org/badges/grand-total/osmplotr?color=orange" alt="CRAN Downloads"></a></li>
<li><a href="http://cran.r-project.org/package=osmplotr"><img src="http://www.r-pkg.org/badges/version/osmplotr" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/ropensci/onboarding/issues/27"><img src="https://badges.ropensci.org/27_status.svg"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Mark Padgham, Richard Beare.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
